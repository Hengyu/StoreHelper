{"schemaVersion":{"major":0,"patch":0,"minor":3},"metadata":{"roleHeading":"Article","images":[{"identifier":"storehelper-logo.png","type":"icon"}],"title":"StoreHelper Quick Start","role":"article","modules":[{"name":"StoreHelper"}]},"identifier":{"url":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart","interfaceLanguage":"swift"},"variants":[{"paths":["\/documentation\/storehelper\/quickstart"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"abstract":[{"text":"The Quick Start guide shows how to use ","type":"text"},{"code":"StoreHelper","type":"codeVoice"},{"type":"text","text":" to create a bare-bones SwiftUI app that supports in-app purchases on "},{"type":"strong","inlineContent":[{"type":"text","text":"iOS 17"}]},{"text":" and ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"macOS 14"}]},{"type":"text","text":"."}],"kind":"article","sampleCodeDownload":{"kind":"sampleDownload","action":{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/russell-archer\/StoreHelperDemo","overridingTitle":"View StoreHelperDemo on GitHub"}},"hierarchy":{"paths":[["doc:\/\/StoreHelper\/documentation\/StoreHelper"]]},"primaryContentSections":[{"content":[{"level":2,"anchor":"Description","type":"heading","text":"Description"},{"inlineContent":[{"type":"image","identifier":"StoreHelperDemo0.png"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"See "},{"type":"reference","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/guide","isActive":true},{"text":" for in-depth discussion and tutorial on using ","type":"text"},{"type":"codeVoice","code":"StoreHelper"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit2"},{"type":"text","text":" with "},{"type":"strong","inlineContent":[{"text":"Xcode 13 - 15","type":"text"}]},{"text":", ","type":"text"},{"inlineContent":[{"type":"text","text":"iOS 15 - 17"}],"type":"strong"},{"type":"text","text":" and "},{"type":"strong","inlineContent":[{"type":"text","text":"macOS 12 - 14"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"See ","type":"text"},{"type":"reference","identifier":"https:\/\/github.com\/russell-archer\/StoreHelperDemo","isActive":true},{"text":" for an example SwiftUI project using StoreHelper with Xcode and ","type":"text"},{"inlineContent":[{"type":"text","text":"iOS 17"}],"type":"strong"}]}]},{"content":[{"inlineContent":[{"text":"See ","type":"text"},{"isActive":true,"identifier":"https:\/\/github.com\/russell-archer\/StoreHelperDemoUIKit","type":"reference"},{"text":" for an experimental demo project showing how to use ","type":"text"},{"type":"codeVoice","code":"StoreHelper"},{"type":"text","text":" in a UIKit #project"}],"type":"paragraph"}]}]},{"type":"heading","level":2,"anchor":"Contents","text":"Contents"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Description","type":"reference"}]}]},{"content":[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Contents","isActive":true}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Quick-Start","isActive":true,"type":"reference"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#What-youll-need"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Steps","isActive":true,"type":"reference"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Getting-the-StoreHelper-Package"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"isActive":true,"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Create-the-App-struct","type":"reference"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Create-MainView"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Create-ProductView"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Modify-ContentView"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Create-the-ProductInfo-View","isActive":true,"type":"reference"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Create-SimplePurchaseView","type":"reference","isActive":true}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Add-Product-Images","type":"reference","isActive":true}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Add-Product-Configuration-Files","type":"reference"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Run-the-App"}]}]}]}]}],"type":"unorderedList"}]}]},{"text":"Quick Start","level":2,"anchor":"Quick-Start","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"The following steps show to use ","type":"text"},{"code":"StoreHelper","type":"codeVoice"},{"type":"text","text":" to create a bare-bones SwiftUI demo app that supports in-app purchases on "},{"inlineContent":[{"type":"text","text":"iOS 17"}],"type":"strong"},{"type":"text","text":" and "},{"inlineContent":[{"type":"text","text":"macOS 14"}],"type":"strong"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"text":"See ","type":"text"},{"overridingTitleInlineContent":[{"type":"text","text":"StoreHelperDemo"}],"type":"reference","identifier":"https:\/\/github.com\/russell-archer\/StoreHelperDemo","isActive":true,"overridingTitle":"StoreHelperDemo"},{"text":" for an example SwiftUI project using ","type":"text"},{"type":"codeVoice","code":"StoreHelper"},{"text":" with Xcode 15.","type":"text"}]},{"type":"heading","text":"What you’ll need","anchor":"What-youll-need","level":3},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Xcode 13 - 15","type":"text"}],"type":"strong"},{"type":"text","text":" installed on your Mac"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Basic familiarity with "},{"inlineContent":[{"type":"text","text":"Xcode"}],"type":"strong"},{"text":", ","type":"text"},{"inlineContent":[{"type":"text","text":"Swift"}],"type":"strong"},{"text":" and ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"SwiftUI"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"About 15-minutes!","type":"text"}]}]}]},{"text":"Steps","type":"heading","anchor":"Steps","level":2},{"anchor":"Getting-the-StoreHelper-Package","level":3,"text":"Getting the StoreHelper Package","type":"heading"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Open Xcode and create a new project","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Select the "},{"type":"strong","inlineContent":[{"text":"multi-platform","type":"text"}]},{"text":" template and create an app named ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"“StoreHelperDemo”"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Select "},{"inlineContent":[{"text":"File > Add Packages…","type":"text"}],"type":"strong"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Paste the URL of the "},{"code":"StoreHelper","type":"codeVoice"},{"text":" package into the search box:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"For HTTPS use: https:\/\/github.com\/russell-archer\/StoreHelper.git"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"For SSH use: git@github.com:russell-archer\/StoreHelper.git"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Click ","type":"text"},{"type":"strong","inlineContent":[{"text":"Add Package","type":"text"}]},{"text":":","type":"text"}]}]}]},{"inlineContent":[{"identifier":"StoreHelperDemo101.png","type":"image"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Xcode will fetch the package from GitHub and then display a confirmation. Click "},{"type":"strong","inlineContent":[{"text":"Add Package","type":"text"}]},{"text":":","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"identifier":"StoreHelperDemo102.png","type":"image"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The project should now look like this:"}]}]}]},{"type":"paragraph","inlineContent":[{"identifier":"StoreHelperDemo103.png","type":"image"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Notice that the ","type":"text"},{"code":"StoreHelper","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"swift-collections"},{"type":"text","text":" packages have been added to the project. "},{"code":"swift-collections","type":"codeVoice"},{"type":"text","text":" is a package dependency for "},{"type":"codeVoice","code":"StoreHelper"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"If you expand the "},{"type":"codeVoice","code":"StoreHelper"},{"type":"text","text":" package you’ll be able to see the source:"}],"type":"paragraph"}]}]},{"inlineContent":[{"type":"image","identifier":"StoreHelperDemo104.png"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Select the project’s ","type":"text"},{"inlineContent":[{"text":"target","type":"text"}],"type":"strong"},{"text":". Notice that ","type":"text"},{"code":"StoreHelper","type":"codeVoice"},{"type":"text","text":" has been added as a library for the "},{"type":"strong","inlineContent":[{"type":"text","text":"iOS"}]},{"type":"text","text":", "},{"type":"strong","inlineContent":[{"text":"iPad","type":"text"}]},{"text":" and ","type":"text"},{"inlineContent":[{"type":"text","text":"macOS"}],"type":"strong"},{"text":" targets:","type":"text"}]}]}]},{"inlineContent":[{"identifier":"StoreHelperDemo109.png","type":"image"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"With the project’s target selected, add the "},{"inlineContent":[{"text":"In-App Purchase","type":"text"}],"type":"strong"},{"text":" capability:","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"type":"image","identifier":"StoreHelperDemo105.png"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Adding the in-app purchase capability will automatically add the ","type":"text"},{"code":"StoreKit","type":"codeVoice"},{"text":" framework to your project:","type":"text"}]}]}]},{"inlineContent":[{"identifier":"StoreHelperDemo110.png","type":"image"}],"type":"paragraph"},{"anchor":"Create-the-App-struct","level":2,"type":"heading","text":"Create the App struct"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Open "},{"type":"codeVoice","code":"StoreHelperDemoApp.swift"},{"text":" and replace the existing code with the following:","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"codeListing","code":["import SwiftUI","import StoreHelper","","@available(iOS 15.0, macOS 12.0, *)","@main","struct StoreHelperDemoApp: App {","    @StateObject var storeHelper = StoreHelper()","    ","    var body: some Scene {","        WindowGroup {","            MainView()","                .environmentObject(storeHelper)","                .task { storeHelper.start() }  \/\/ Start listening for transactions","                #if os(macOS)","                .frame(minWidth: 700, idealWidth: 700, minHeight: 700, idealHeight: 700)","                .font(.title2)","                #endif","        }","    }","}"],"syntax":"swift"},{"items":[{"content":[{"inlineContent":[{"text":"Notice how we ","type":"text"},{"type":"codeVoice","code":"import StoreHelper"},{"type":"text","text":", create an instance of the "},{"type":"codeVoice","code":"StoreHelper"},{"text":" class and add it to the SwiftUI view hierarchy using the ","type":"text"},{"code":".environment()","type":"codeVoice"},{"type":"text","text":" modifier"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"We also call ","type":"text"},{"code":"storeHelper.start()","type":"codeVoice"},{"type":"text","text":" to begin listening for App Store transactions. This should be done as soon as possible during app start-up"}]}]}],"type":"unorderedList"},{"content":[{"type":"paragraph","inlineContent":[{"text":"Alternatively, you can copy everything required for the ","type":"text"},{"inlineContent":[{"text":"StoreHelperDemo","type":"text"}],"type":"strong"},{"text":" app from the ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"StoreHelper > Samples"}]},{"text":" folder:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Delete ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"ContentView.swift"}]},{"text":" and ","type":"text"},{"inlineContent":[{"type":"text","text":"StoreHelperDemoApp.swift"}],"type":"strong"},{"type":"text","text":" from your project and move them to the trash"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Select any file in the "},{"type":"strong","inlineContent":[{"text":"StoreHelper > Samples > Code","type":"text"}]},{"type":"text","text":" folder in Xcode, right-click it and select "},{"type":"strong","inlineContent":[{"text":"Show in Finder","type":"text"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In Finder, select all the files in the "},{"inlineContent":[{"type":"text","text":"Code"}],"type":"strong"},{"text":" directory and drag them into into your project’s main folder in Xcode. Select ","type":"text"},{"inlineContent":[{"type":"text","text":"Copy items if needed"}],"type":"strong"},{"type":"text","text":" when prompted"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"If you’ve not named your project “"},{"type":"strong","inlineContent":[{"type":"text","text":"StoreHelperDemo"}]},{"type":"text","text":"”, rename "},{"type":"strong","inlineContent":[{"type":"text","text":"StoreHelperDemoApp.swift"}]},{"text":" to ","type":"text"},{"inlineContent":[{"text":"Your-Project-NameApp.swift","type":"text"}],"type":"strong"},{"type":"text","text":", also rename the struct from "},{"type":"codeVoice","code":"StoreHelperDemoApp"},{"type":"text","text":" to "},{"type":"codeVoice","code":"Your-Project-NameApp"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"In Finder, select all files (except the readme.md) in the ","type":"text"},{"type":"strong","inlineContent":[{"text":"Configuration","type":"text"}]},{"text":" directory and drag them into your project’s main folder in Xcode. Select ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"Copy items if needed"}]},{"type":"text","text":" when prompted"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Rename ","type":"text"},{"type":"strong","inlineContent":[{"text":"SampleProducts.plist","type":"text"}]},{"type":"text","text":" to "},{"inlineContent":[{"type":"text","text":"Products.plist"}],"type":"strong"},{"text":" and ","type":"text"},{"inlineContent":[{"text":"SampleProducts.storekit","type":"text"}],"type":"strong"},{"text":" to ","type":"text"},{"inlineContent":[{"type":"text","text":"Products.storekit"}],"type":"strong"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In Finder, select all images in the "},{"type":"strong","inlineContent":[{"text":"Images","type":"text"}]},{"type":"text","text":" directory and drag them into your project’s "},{"inlineContent":[{"text":"Asset Catalog","type":"text"}],"type":"strong"},{"type":"text","text":" in Xcode"}]}]}],"type":"unorderedList"}],"style":"note","type":"aside","name":"Note"},{"type":"heading","level":3,"anchor":"Create-MainView","text":"Create MainView"},{"items":[{"content":[{"inlineContent":[{"text":"Create a folder named ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"“Shared”"}]},{"type":"text","text":", then add a new SwiftUI "},{"type":"codeVoice","code":"View"},{"text":" in the new folder named ","type":"text"},{"type":"codeVoice","code":"MainView"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Replace the existing code with the following:"}],"type":"paragraph"}]}],"type":"unorderedList"},{"syntax":"swift","code":["import SwiftUI","","@available(iOS 15.0, macOS 12.0, *)","struct MainView: View {","    let largeFlowersId = \"com.rarcher.nonconsumable.flowers.large\"","    let smallFlowersId = \"com.rarcher.nonconsumable.flowers.small\"","    ","    var body: some View {","        NavigationView {","            List {","                NavigationLink(destination: ContentView()) { Text(\"Product List\").font(.largeTitle).padding()}","                NavigationLink(destination: ProductView(productId: largeFlowersId)) { Text(\"Large Flowers\").font(.largeTitle).padding()}","                NavigationLink(destination: ProductView(productId: smallFlowersId)) { Text(\"Small Flowers\").font(.largeTitle).padding()}","                NavigationLink(destination: SubscriptionView()) { Text(\"Subscriptions\").font(.largeTitle).padding()}","                NavigationLink(destination: SimplePurchaseView()) { Text(\"Simple Purchase\").font(.largeTitle).padding()}","            }","        }","        #if os(iOS)","        .navigationViewStyle(.stack)","        .navigationBarTitle(Text(\"StoreHelperDemo\"), displayMode: .large)","        #endif","    }","}"],"type":"codeListing"},{"items":[{"content":[{"inlineContent":[{"code":"MainView","type":"codeVoice"},{"type":"text","text":" provides simple navigation to "},{"type":"codeVoice","code":"ContentView"},{"text":", which shows a list of available products, and ","type":"text"},{"type":"codeVoice","code":"ProductView"},{"type":"text","text":" which gives the user access to a particular product if they’ve purchased it"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Notice how we pass the ","type":"text"},{"code":"ProductId","type":"codeVoice"},{"type":"text","text":" for either the “Large Flowers” or “Small Flowers” product to "},{"type":"codeVoice","code":"ProductView"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Create-ProductView","text":"Create ProductView","level":3,"type":"heading"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Create a new SwiftUI ","type":"text"},{"type":"codeVoice","code":"View"},{"type":"text","text":" named "},{"code":"ProductView","type":"codeVoice"},{"type":"text","text":" and save it to the "},{"type":"strong","inlineContent":[{"type":"text","text":"Shared"}]},{"type":"text","text":" folder. Replace the existing code with the following:"}],"type":"paragraph"}]}]},{"syntax":"swift","code":["import SwiftUI","import StoreHelper","","@available(iOS 15.0, macOS 12.0, *)","struct ProductView: View {","    @EnvironmentObject var storeHelper: StoreHelper","    @State private var purchaseState: PurchaseState = .unknown","    var productId: ProductId","    ","    var body: some View {","        VStack {","            Image(productId).bodyImage()","","            switch purchaseState {","                case .purchased: Text(\"You have purchased this product and have full access.\")","                        .font(.title)","                        .multilineTextAlignment(.center)","                        .foregroundColor(.green)","                        .padding()","                    ","                case .notPurchased: Text(\"Sorry, you have not purchased this product and do not have access.\")","                        .font(.title)","                        .multilineTextAlignment(.center)","                        .foregroundColor(.red)","                        .padding()","                    ","                default:","                    ProgressView().padding()","                    Text(\"The purchase state for this product is \\(purchaseState.shortDescription().lowercased())\")","                        .font(.title)","                        .multilineTextAlignment(.center)","                        .foregroundColor(.orange)","                        .padding()","            }","        }","        .padding()","        .task {","            let isPurchased = (try? await storeHelper.isPurchased(productId: productId)) ?? false","            purchaseState = isPurchased ? .purchased : .notPurchased","        }","        .onChange(of: storeHelper.purchasedProducts) { _ in","            Task.init {","                let isPurchased = (try? await storeHelper.isPurchased(productId: productId)) ?? false","                purchaseState = isPurchased ? .purchased : .notPurchased","            }","        }","    }","}"],"type":"codeListing"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Notice that when the ","type":"text"},{"type":"codeVoice","code":"VStack"},{"text":" appears we asynchronously call ","type":"text"},{"type":"codeVoice","code":"StoreHelper.isPurchased(productId:)"},{"type":"text","text":" to see if the user has purchased the product"}]}]}]},{"level":3,"type":"heading","anchor":"Modify-ContentView","text":"Modify ContentView"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Open "},{"code":"ContentView.swift","type":"codeVoice"},{"type":"text","text":" and replace the existing code with the following:"}],"type":"paragraph"}]}],"type":"unorderedList"},{"code":["import SwiftUI","import StoreHelper","","@available(iOS 15.0, macOS 12.0, *)","struct ContentView: View {","    @State private var showProductInfoSheet = false","    @State private var productId: ProductId = \"\"","    ","    var body: some View {","        Products() { id in","            productId = id","            showProductInfoSheet = true","        }","        .sheet(isPresented: $showProductInfoSheet) {","            VStack {","                \/\/ Pull in text and images that explain the particular product identified by `productId`","                ProductInfo(productInfoProductId: $productId, showProductInfoSheet: $showProductInfoSheet)","            }","            #if os(macOS)","            .frame(minWidth: 500, idealWidth: 500, maxWidth: 500, minHeight: 500, idealHeight: 500, maxHeight: 500)","            #endif","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The above creates the "},{"type":"codeVoice","code":"StoreHelper Products"},{"type":"text","text":" view. This view displays a list of your configured products (we haven’t configured them yet), allow the user to purchase products and see detailed information about purchases"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If the user taps on a product’s "},{"inlineContent":[{"type":"text","text":"More Info"}],"type":"strong"},{"type":"text","text":" button, the "},{"type":"codeVoice","code":"Products"},{"type":"text","text":" view provides the unique "},{"code":"ProductId","type":"codeVoice"},{"type":"text","text":" of that product to our app via a closure. We can then display a view or (as in this example) sheet showing details of the product, and why the user might want to purchase it"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We hand-off the presentation of our product information details to the (as yet undefined) "},{"code":"ProductInfo","type":"codeVoice"},{"text":" view","type":"text"}]}]}]},{"level":3,"type":"heading","text":"Create the ProductInfo View","anchor":"Create-the-ProductInfo-View"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Create a new SwiftUI view in the ","type":"text"},{"inlineContent":[{"type":"text","text":"Shared"}],"type":"strong"},{"text":" folder named ","type":"text"},{"code":"ProductInfo.swift","type":"codeVoice"},{"type":"text","text":". Replace the existing code with the following:"}]}]}]},{"code":["import SwiftUI","import StoreHelper","import StoreKit","","@available(iOS 15.0, macOS 12.0, *)","struct ProductInfo: View {","    @EnvironmentObject var storeHelper: StoreHelper","    @State private var product: Product?","    @Binding var productInfoProductId: ProductId","    @Binding var showProductInfoSheet: Bool","    ","    var body: some View {","        VStack {","            SheetBarView(showSheet: $showProductInfoSheet, title: product?.displayName ?? \"Product Info\")","            ScrollView {","                VStack {","                    if let p = product {","                        Image(p.id)","                            .resizable()","                            .frame(maxWidth: 200, maxHeight: 200)","                            .aspectRatio(contentMode: .fit)","                            .cornerRadius(25)","                    }","                    ","                    \/\/ Pull in the text appropriate for the product","                    switch productInfoProductId {","                        case \"com.rarcher.nonconsumable.flowers.large\": ProductInfoFlowersLarge()","                        case \"com.rarcher.nonconsumable.flowers.small\": ProductInfoFlowersSmall()","                        default: ProductInfoDefault()","                    }","                }","                .padding(.bottom)","            }","        }","        .onAppear {","            product = storeHelper.product(from: productInfoProductId)","        }","    }","}","","@available(iOS 15.0, macOS 12.0, *)","struct ProductInfoFlowersLarge: View {","    @ViewBuilder var body: some View {","        Text(\"This is a information about the **Large Flowers** product.\").font(.title2).padding().multilineTextAlignment(.center)","        Text(\"Add text and images explaining this product here.\").font(.title3).padding().multilineTextAlignment(.center)","    }","}","","@available(iOS 15.0, macOS 12.0, *)","struct ProductInfoFlowersSmall: View {","    @ViewBuilder var body: some View {","        Text(\"This is a information about the **Small Flowers** product.\").font(.title2).padding().multilineTextAlignment(.center)","        Text(\"Add text and images explaining this product here.\").font(.title3).padding().multilineTextAlignment(.center)","    }","}","","@available(iOS 15.0, macOS 12.0, *)","struct ProductInfoDefault: View {","    @ViewBuilder var body: some View {","        Text(\"This is generic information about a product.\").font(.title2).padding().multilineTextAlignment(.center)","        Text(\"Add text and images explaining your product here.\").font(.title3).padding().multilineTextAlignment(.center)","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"ProductInfo","type":"codeVoice"},{"text":" uses ","type":"text"},{"code":"StoreHelper.product(from:)","type":"codeVoice"},{"text":" to retrieve a ","type":"text"},{"type":"codeVoice","code":"StoreKit2 Product"},{"type":"text","text":" struct, which gives localized information about the product"}]}]}]},{"text":"Create SimplePurchaseView","type":"heading","level":3,"anchor":"Create-SimplePurchaseView"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a new SwiftUI view in the "},{"type":"strong","inlineContent":[{"type":"text","text":"Shared"}]},{"type":"text","text":" folder named "},{"code":"SimplePurchaseView.swift","type":"codeVoice"},{"type":"text","text":". Replace the existing code with the following:"}]}]}]},{"syntax":"swift","type":"codeListing","code":["import SwiftUI","import StoreKit","import StoreHelper","","struct SimplePurchaseView: View {","    @EnvironmentObject var storeHelper: StoreHelper","    @State private var purchaseState: PurchaseState = .unknown","    @State private var product: Product?","    let productId = \"com.rarcher.nonconsumable.flowers.large\"","    ","    var body: some View {","        VStack {","            Text(\"This view shows how to create a minimal purchase page for a product. The product shown is **Large Flowers**\").multilineTextAlignment(.center)","            Image(productId)","                .resizable()","                .frame(maxWidth: 250, maxHeight: 250)","                .aspectRatio(contentMode: .fit)","                .cornerRadius(25)","            ","            if let product { PurchaseButton(purchaseState: $purchaseState, productId: productId, price: product.displayPrice).padding() }","            ","            switch purchaseState {","                case .purchased: Text(\"This product has already been purchased\")","                        .font(.title)","                        .multilineTextAlignment(.center)","                        .foregroundColor(.blue)","                        .padding()","                    ","                case .notPurchased: Text(\"This product is available for purchase\")","                        .font(.title)","                        .multilineTextAlignment(.center)","                        .foregroundColor(.green)","                        .padding()","                    ","                case .unknown: Text(\"The purchase state for this product has not been determined\")","                        .font(.title)","                        .multilineTextAlignment(.center)","                        .foregroundColor(.orange)","                        .padding()","                    ","                default: Text(\"The purchase state for this product is \\(purchaseState.shortDescription().lowercased())\")","                        .font(.title)","                        .multilineTextAlignment(.center)","                        .foregroundColor(.red)","                        .padding()","            }","            ","            Spacer()","        }","        .padding()","        .task {","            product = storeHelper.product(from: productId)","            let isPurchased = (try? await storeHelper.isPurchased(productId: productId)) ?? false","            purchaseState = isPurchased ? .purchased : .notPurchased","        }","        .onChange(of: storeHelper.purchasedProducts) { _ in","            Task.init {","                let isPurchased = (try? await storeHelper.isPurchased(productId: productId)) ?? false","                purchaseState = isPurchased ? .purchased : .notPurchased","            }","        }","    }","}"]},{"text":"Add Product Images","type":"heading","anchor":"Add-Product-Images","level":3},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Select any file in the ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"StoreHelper > Samples > Images"}]},{"text":" folder in Xcode, right-click it and select ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"Show in Finder"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In Finder, select all images in the "},{"type":"strong","inlineContent":[{"type":"text","text":"Images"}]},{"type":"text","text":" directory and drag them into your project’s "},{"inlineContent":[{"text":"Asset Catalog","type":"text"}],"type":"strong"},{"type":"text","text":" in Xcode"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"These images have filenames that are the same as the product ids for the products which they represent"}]}]}]},{"anchor":"Add-Product-Configuration-Files","type":"heading","level":3,"text":"Add Product Configuration Files"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Select any file in the "},{"inlineContent":[{"text":"StoreHelper > Samples > Configuration","type":"text"}],"type":"strong"},{"type":"text","text":" folder in Xcode, right-click it and select "},{"inlineContent":[{"text":"Show in Finder","type":"text"}],"type":"strong"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"In Finder, select all files (except readme.md) in the ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"Configuration"}]},{"type":"text","text":" directory and drag them into your project’s main folder in Xcode. Select "},{"inlineContent":[{"text":"Copy items if needed","type":"text"}],"type":"strong"},{"type":"text","text":" when prompted"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Rename ","type":"text"},{"inlineContent":[{"type":"text","text":"SampleProducts.plist"}],"type":"strong"},{"type":"text","text":" to "},{"type":"strong","inlineContent":[{"type":"text","text":"Products.plist"}]},{"text":" and ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"SampleProducts.storekit"}]},{"type":"text","text":" to "},{"type":"strong","inlineContent":[{"type":"text","text":"Products.storekit"}]}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Select your project’s "},{"type":"strong","inlineContent":[{"type":"text","text":"target"}]},{"type":"text","text":" and then select "},{"type":"strong","inlineContent":[{"text":"Product > Scheme> Edit Scheme","type":"text"}]}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Select the ","type":"text"},{"type":"codeVoice","code":"Products.storekit"},{"type":"text","text":" file in the "},{"type":"strong","inlineContent":[{"text":"StoreKit Configuration","type":"text"}]},{"type":"text","text":" field:"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"StoreHelperDemo107.png"}]},{"text":"Run the App","level":3,"type":"heading","anchor":"Run-the-App"},{"items":[{"content":[{"inlineContent":[{"text":"Select the ","type":"text"},{"inlineContent":[{"text":"iOS target","type":"text"}],"type":"strong"},{"type":"text","text":" and run it in the simulator:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"codeVoice","code":"MainView"},{"type":"text","text":" provides navigation to "},{"type":"codeVoice","code":"ContentView"},{"type":"text","text":" (the products list) and product access views"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"ContentView"},{"text":" displays a list of products, along with images and descriptions","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Try purchasing the "},{"type":"strong","inlineContent":[{"text":"Large Flowers","type":"text"}]},{"type":"text","text":" product"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Your demo app supports a complete range of in-app purchase-related features"}]}]},{"content":[{"inlineContent":[{"text":"Try selecting “Large Flowers” from ","type":"text"},{"type":"codeVoice","code":"MainView"},{"type":"text","text":". If you’ve purchased it you should see that you have access, otherwise you’ll see a “no access” error"}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"image","identifier":"StoreHelperDemo108.png"}],"type":"paragraph"}],"kind":"content"}],"references":{"doc://StoreHelper/documentation/StoreHelper/quickstart#What-youll-need":{"kind":"section","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#What-youll-need","type":"topic","abstract":[],"title":"What you’ll need","url":"\/documentation\/storehelper\/quickstart#What-youll-need"},"doc://StoreHelper/documentation/StoreHelper/quickstart#Getting-the-StoreHelper-Package":{"abstract":[],"title":"Getting the StoreHelper Package","kind":"section","type":"topic","url":"\/documentation\/storehelper\/quickstart#Getting-the-StoreHelper-Package","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Getting-the-StoreHelper-Package"},"doc://StoreHelper/documentation/StoreHelper/quickstart#Create-the-App-struct":{"kind":"section","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Create-the-App-struct","type":"topic","abstract":[],"title":"Create the App struct","url":"\/documentation\/storehelper\/quickstart#Create-the-App-struct"},"doc://StoreHelper/documentation/StoreHelper/quickstart#Create-MainView":{"abstract":[],"title":"Create MainView","kind":"section","type":"topic","url":"\/documentation\/storehelper\/quickstart#Create-MainView","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Create-MainView"},"doc://StoreHelper/documentation/StoreHelper/quickstart#Modify-ContentView":{"kind":"section","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Modify-ContentView","type":"topic","abstract":[],"title":"Modify ContentView","url":"\/documentation\/storehelper\/quickstart#Modify-ContentView"},"StoreHelperDemo108.png":{"alt":null,"type":"image","identifier":"StoreHelperDemo108.png","variants":[{"traits":["1x","light"],"url":"\/images\/StoreHelperDemo108.png"}]},"doc://StoreHelper/documentation/StoreHelper/quickstart#Create-SimplePurchaseView":{"kind":"section","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Create-SimplePurchaseView","type":"topic","abstract":[],"title":"Create SimplePurchaseView","url":"\/documentation\/storehelper\/quickstart#Create-SimplePurchaseView"},"StoreHelperDemo104.png":{"alt":null,"type":"image","identifier":"StoreHelperDemo104.png","variants":[{"traits":["1x","light"],"url":"\/images\/StoreHelperDemo104.png"}]},"StoreHelperDemo103.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/StoreHelperDemo103.png"}],"identifier":"StoreHelperDemo103.png","type":"image","alt":null},"doc://StoreHelper/documentation/StoreHelper/quickstart#Add-Product-Configuration-Files":{"abstract":[],"title":"Add Product Configuration Files","kind":"section","type":"topic","url":"\/documentation\/storehelper\/quickstart#Add-Product-Configuration-Files","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Add-Product-Configuration-Files"},"StoreHelperDemo105.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/StoreHelperDemo105.png"}],"identifier":"StoreHelperDemo105.png","type":"image","alt":null},"StoreHelperDemo109.png":{"alt":null,"type":"image","identifier":"StoreHelperDemo109.png","variants":[{"traits":["1x","light"],"url":"\/images\/StoreHelperDemo109.png"}]},"StoreHelperDemo110.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/StoreHelperDemo110.png"}],"identifier":"StoreHelperDemo110.png","type":"image","alt":null},"https://github.com/russell-archer/StoreHelperDemo":{"type":"download","url":"https:\/\/github.com\/russell-archer\/StoreHelperDemo","identifier":"https:\/\/github.com\/russell-archer\/StoreHelperDemo","checksum":null},"doc://StoreHelper/documentation/StoreHelper/quickstart#Create-the-ProductInfo-View":{"kind":"section","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Create-the-ProductInfo-View","type":"topic","abstract":[],"title":"Create the ProductInfo View","url":"\/documentation\/storehelper\/quickstart#Create-the-ProductInfo-View"},"doc://StoreHelper/documentation/StoreHelper/quickstart#Quick-Start":{"abstract":[],"title":"Quick Start","kind":"section","type":"topic","url":"\/documentation\/storehelper\/quickstart#Quick-Start","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Quick-Start"},"StoreHelperDemo0.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/StoreHelperDemo0.png"}],"identifier":"StoreHelperDemo0.png","type":"image","alt":null},"StoreHelperDemo101.png":{"alt":null,"type":"image","identifier":"StoreHelperDemo101.png","variants":[{"traits":["1x","light"],"url":"\/images\/StoreHelperDemo101.png"}]},"doc://StoreHelper/documentation/StoreHelper/guide":{"title":"StoreHelper Guide","images":[{"identifier":"storehelper-logo.png","type":"icon"}],"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/guide","abstract":[{"text":"Implementing and testing in-App purchases with ","type":"text"},{"code":"StoreKit2","type":"codeVoice"},{"type":"text","text":" and "},{"code":"StoreHelper","type":"codeVoice"},{"type":"text","text":" in "},{"inlineContent":[{"type":"text","text":"Xcode 13 - 15"}],"type":"strong"},{"type":"text","text":" with "},{"inlineContent":[{"text":"SwiftUI","type":"text"}],"type":"strong"},{"text":", ","type":"text"},{"inlineContent":[{"text":"Swift 5.7 - 5.9","type":"text"}],"type":"strong"},{"text":", ","type":"text"},{"inlineContent":[{"type":"text","text":"iOS 15 -  17"}],"type":"strong"},{"type":"text","text":" and "},{"inlineContent":[{"type":"text","text":"macOS 12 - 14"}],"type":"strong"},{"type":"text","text":"."}],"kind":"article","type":"topic","url":"\/documentation\/storehelper\/guide","role":"article"},"doc://StoreHelper/documentation/StoreHelper/quickstart#Run-the-App":{"kind":"section","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Run-the-App","type":"topic","abstract":[],"title":"Run the App","url":"\/documentation\/storehelper\/quickstart#Run-the-App"},"StoreHelperDemo107.png":{"alt":null,"type":"image","identifier":"StoreHelperDemo107.png","variants":[{"traits":["1x","light"],"url":"\/images\/StoreHelperDemo107.png"}]},"doc://StoreHelper/documentation/StoreHelper/quickstart#Create-ProductView":{"kind":"section","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Create-ProductView","type":"topic","abstract":[],"title":"Create ProductView","url":"\/documentation\/storehelper\/quickstart#Create-ProductView"},"doc://StoreHelper/documentation/StoreHelper/quickstart#Contents":{"abstract":[],"title":"Contents","kind":"section","type":"topic","url":"\/documentation\/storehelper\/quickstart#Contents","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Contents"},"storehelper-logo.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/storehelper-logo.png"}],"identifier":"storehelper-logo.png","type":"image","alt":null},"doc://StoreHelper/documentation/StoreHelper":{"identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper","url":"\/documentation\/storehelper","kind":"symbol","abstract":[{"text":"StoreHelper is a Swift Package Manager (SPM) package that enables developers using Xcode 13 - 15 to easily add in-app purchase support to iOS 15 - 17 and macOS 12 - 14 SwiftUI apps.","type":"text"}],"images":[{"type":"icon","identifier":"storehelper-logo.png"}],"title":"StoreHelper","role":"collection","type":"topic"},"doc://StoreHelper/documentation/StoreHelper/quickstart#Description":{"abstract":[],"title":"Description","kind":"section","type":"topic","url":"\/documentation\/storehelper\/quickstart#Description","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Description"},"https://github.com/russell-archer/StoreHelperDemoUIKit":{"identifier":"https:\/\/github.com\/russell-archer\/StoreHelperDemoUIKit","type":"link","titleInlineContent":[{"text":"StoreHelper Demo with UIKit","type":"text"}],"title":"StoreHelper Demo with UIKit","url":"https:\/\/github.com\/russell-archer\/StoreHelperDemoUIKit"},"StoreHelperDemo102.png":{"alt":null,"type":"image","identifier":"StoreHelperDemo102.png","variants":[{"traits":["1x","light"],"url":"\/images\/StoreHelperDemo102.png"}]},"doc://StoreHelper/documentation/StoreHelper/quickstart#Steps":{"kind":"section","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Steps","type":"topic","abstract":[],"title":"Steps","url":"\/documentation\/storehelper\/quickstart#Steps"},"doc://StoreHelper/documentation/StoreHelper/quickstart#Add-Product-Images":{"abstract":[],"title":"Add Product Images","kind":"section","type":"topic","url":"\/documentation\/storehelper\/quickstart#Add-Product-Images","identifier":"doc:\/\/StoreHelper\/documentation\/StoreHelper\/quickstart#Add-Product-Images"}}}